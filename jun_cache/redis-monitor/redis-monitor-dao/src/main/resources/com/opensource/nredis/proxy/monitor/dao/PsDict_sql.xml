<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<!--
IPsDictDao mybatis

@author liubing
@date 2016/12/21 17:32
@version v1.0.0
-->
<mapper namespace="com.opensource.nredis.proxy.monitor.dao.IPsDictDao" >
    <resultMap id="PsDictMap" type="com.opensource.nredis.proxy.monitor.model.PsDict">
        <result property="id" column="id"/>
        <result property="psKey" column="ps_key"/>
        <result property="psValue" column="ps_value"/>
        <result property="psMoudle" column="ps_moudle"/>
        <result property="psStatus" column="ps_status"/>
    </resultMap>

    <insert id="insert" parameterType="com.opensource.nredis.proxy.monitor.model.PsDict">
            <selectKey keyProperty="id" resultType="Integer" order="AFTER">
                SELECT LAST_INSERT_ID() AS id
            </selectKey>
        INSERT INTO ps_dict (
        <trim suffixOverrides=",">
                id,
                ps_key,
                ps_value,
                ps_moudle,
                ps_status,
        </trim>
        )VALUES(
        <trim suffixOverrides=",">
                    #{id},
                    #{psKey},
                    #{psValue},
                    #{psMoudle},
                    #{psStatus},
        </trim>
        )
    </insert>

    <update id="updateById" parameterType="com.opensource.nredis.proxy.monitor.model.PsDict">
        update ps_dict
        <trim prefix="SET" suffixOverrides=",">
            <if test="id != null">id = #{id},</if>
            <if test="psKey != null">ps_key = #{psKey},</if>
            <if test="psValue != null">ps_value = #{psValue},</if>
            <if test="psMoudle != null">ps_moudle = #{psMoudle},</if>
            <if test="psStatus != null">ps_status = #{psStatus},</if>
        </trim>
        where id = #{id}
    </update>

    <delete id="deleteById" parameterType="int">
        delete from ps_dict where id = #{id}
    </delete>

    <select id="getById" parameterType="int" resultMap="PsDictMap">
        select * from ps_dict where id = #{id}
    </select>

    <select id="getListByCriteria" resultMap="PsDictMap" parameterType="com.opensource.nredis.proxy.monitor.model.PsDict">
        select * from ps_dict
        <include refid="select_where_clause"/>
        order by id desc
    </select>

    <sql id="select_where_clause">
        <trim prefix="where" prefixOverrides="AND|OR">
            <if test="id != null"> AND id = #{id} </if>
            <if test="psKey != null"> AND ps_key = #{psKey} </if>
            <if test="psValue != null"> AND ps_value = #{psValue} </if>
            <if test="psMoudle != null"> AND ps_moudle = #{psMoudle} </if>
            <if test="psStatus != null"> AND ps_status = #{psStatus} </if>
        </trim>
    </sql>
    
    <select id="queryPageList" resultMap="PsDictMap">
        select * from ps_dict
        <include refid="page_where_clause"/>
        order by id desc
        <if test="page!=null">
            LIMIT #{page.pageSize} OFFSET #{page.begin}
        </if>
    </select>

    <select id="count" resultType="int" parameterType="com.opensource.nredis.proxy.monitor.model.PsDict">
        select count(*) from ps_dict
        <include refid="page_where_clause"/>
    </select>

    <sql id="page_where_clause">
        <trim prefix="where" prefixOverrides="AND|OR">
            <if test="queryObject.id != null"> AND id = #{queryObject.id} </if>
            <if test="queryObject.psKey != null"> AND ps_key = #{queryObject.psKey} </if>
            <if test="queryObject.psValue != null"> AND ps_value = #{queryObject.psValue} </if>
            <if test="queryObject.psMoudle != null"> AND ps_moudle = #{queryObject.psMoudle} </if>
            <if test="queryObject.psStatus != null"> AND ps_status = #{queryObject.psStatus} </if>

           
        </trim>
    </sql>

    <!--extension script-->
</mapper>